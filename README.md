# WhereAreYou

We are looking for space invaders via our radar view. Like most contemporary invader detectors, the radar maps the sphere around us into a black-and-white 2D matrix so the view "wraps around". Also, the view is noisy, some pixels switch on or off at random.

This script does its best to find the invaders. If you supply a radar reading map it will give you the center points of invaders, with some caveats:

- Due to low map resolution, "center" of an evenly sized image is up for debate. The script chooses one of the closest points. If you shoot there you should hit.
- Due to noise we are not sure if what we found is an invader. Perhaps it's a bush flying past us? That said, missiles are cheap, invader damage expesive. Better shoot'em all.
- On a cluster of "on" pixels the script might suggest multiple points. My advice is to shoot one of them and then rerun the script with a new reading.
- We are not even sure the script will find all invaders. If you have missiles left reduce the threshold, and the script will output more targets to annihilate.
- That said, it might not be a good idea to use this script in the heat of a battle. It could be very, very slow.

## Setup

Download the project files and run `bin/setup` to install dependencies.

## Usage

```sh
$ cat sample.txt | bundle exec exe/where_are_you
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
---------------o------o-----------------------------------------------------------------------------
----------------------------------------------o-----------------------------------------------------
-------------------------------------------------------------------------------o--------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------o---------
-----------------------------------------------------------------o----------------------------------
----------------------------------------------------------------------------------------------------
---------------------------------------o------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
--------------------o-------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------o------------
--------------------------------------------------------------------------------------o-------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
---------------------o------------------------------------------------------------------------------
```

Matching sensitivity can be reduced (at the expense of more false positives):

```sh
cat sample.txt | bundle exec exe/where_are_you --probability-threshold 0.6
----------------------o-----------------------------------------------------------------------------
---------------ooooo-o-o-------------------------o--------------------------------------------------
-----------------o--o---------------------------o-----o---------------------------------------------
-----------ooo-o---o--o--o------------------ooooo------------------------o---o-----o----------------
--------------o---o---------------------------o-----------------------------ooo---------------------
-------------o--------------------------------------------------------------o--o--oo----------------
------------------------------------------------------------------------------o-oo------------------
----------------------------------------------o-----------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
-----------------------o----------------------------------------------------------------------------
--------------------------------------------------------o-------------------------------------------
-----------------------------------------------------------------------------------------o----------
---------------------------------------------------------o----------------------------o-------------
---------------------------------------o-------------------------o--------------------o-o-oo-oo-----
------------------------------------o-o--o-------------------o---o-ooo-------------------ooooo------
-------------------------------------oooo-----------------------o--o------------------------o-------
---------------------------------------oooo------------------------------------------------oo-------
--------------------------------------o-o------------------------o----------------------------------
--------------------------------------o--o----------------------------------------------------------
---------------------------------------o------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
-----------------------------------------o----------------------------------------------------------
----------------------o-------o---------------------------------------------------------------------
---------------o-o----------------------------------------------------------------------------------
------------------o-oo------------------------------------------------------------------------------
----------------o--oo-------------------------------------------------------------------------------
---------------------o------------------------------------------------------------------------------
---------------------o------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------ooooo------------
-----------------------o-------------------------------------------------------------oo--o----------
---------------------o------------------------------------------------------------------------------
--------------------o--o---------------------------------------------------------------oo-----------
-------------------ooo------------------------------------------------------------------------------
--------------------ooo-----------------------------------------------------------------------------
```

See `where_are_you --help` for more help.

## Development

Run `rake` to run tests and Rubocop.

## Contributing

Bug reports and pull requests are not welcome. But feedback is. Find me if you can.
